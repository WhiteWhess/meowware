package wtf.whess.meowware.client.main.functions.impl.exploit;

import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;
import wtf.whess.meowware.client.api.eventsystem.EventTarget;
import wtf.whess.meowware.client.api.eventsystem.impl.PlayerUpdateEvent;
import wtf.whess.meowware.client.main.functions.Category;
import wtf.whess.meowware.client.main.functions.Function;

import java.util.Random;

public final class OffHandCrash extends Function {
    public OffHandCrash() {
        super("OffHandCrash", Category.exploit);
    }

    private final Random random = new Random();

    @EventTarget
    public void onUpdate(PlayerUpdateEvent ignoredEvent) {
        for (int i = 0; i <= 9000 + random.nextInt(1000); ++i) {
            mc.player.connection.sendPacket(new CPacketAnimation(EnumHand.MAIN_HAND));
        }
    }
}
